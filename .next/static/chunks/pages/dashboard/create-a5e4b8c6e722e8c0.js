(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{7354:function(e,t,r){"use strict";r.r(t);var i=r(7812),n=r(9499),s=r(29),o=r(7794),l=r.n(o),c=r(4231),u=r(2286),a=r.n(u),d=r(5496),p=r(7294),j=r(7536),h=r(2682),f=r(4686),x=r(2925),b=r(143),g=r(423),m=r(3117),v=r(9008),y=r.n(v),k=r(4714),_=r(9901),w=r(1163),O=r(7209),D=r(5893);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=c.Ry({title:c.Z_().required("Digite um t\xedtulo"),description:c.Z_().required("Digite uma descri\xe7\xe3o"),repository:c.Z_(),website:c.Z_()}).required();t.default=function(){var e=(0,w.useRouter)();null===a().get(null,"jnm.token")["jnm.token"]&&e.push("/login");var t=(0,p.useState)([]),r=t[0],n=t[1],o=(0,p.useState)({error:!1,message:""}),c=o[0],u=o[1],v=(0,p.useState)(!1),P=v[0],Z=v[1],F=(0,j.cI)({resolver:(0,d.X)(S)}),C=F.register,I=F.handleSubmit,N=F.setValue,R=F.formState.errors,T=function(){var t=(0,s.Z)(l().mark((function t(i){var s,o,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),s=a().get(null,"jnm.token"),o=E(E({},i),{},{technologies:r}),t.next=5,_.Z.create(s["jnm.token"],o);case 5:c=t.sent,t.t0=c.status,t.next=200===t.t0?9:500===t.t0?16:401===t.t0?19:22;break;case 9:return N("title",""),N("description",""),N("repository",""),N("website",""),n([]),Z(!1),t.abrupt("break",23);case 16:return u((function(e){return E(E({},e),{},{error:!0,message:"Erro no servidor, tente novamente"})})),Z(!1),t.abrupt("break",23);case 19:return a().destroy({},"jnm.token"),e.push("/login"),t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,p.useEffect)((function(){X.current.value=""}),[r]);var X=(0,p.useRef)(null);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(y(),{children:(0,D.jsx)("title",{children:"Criar Projeto | Portfolio"})}),(0,D.jsxs)(k.E,{children:[(0,D.jsx)(O.T,{href:"/dashboard"}),(0,D.jsx)(g.W2,{children:(0,D.jsxs)(g.l0,{onSubmit:I(T),children:[(0,D.jsxs)(m.l,{children:[(0,D.jsx)(h._,{htmlFor:"title",title:"T\xedtulo"}),(0,D.jsx)(b.I,{type:"text",id:"title",placeholder:"Digite o t\xedtulo do projeto",register:E({},C("title"))}),!!R.title&&(0,D.jsx)(x.y,{title:R.title.message})]}),(0,D.jsxs)(m.l,{children:[(0,D.jsx)(h._,{htmlFor:"description",title:"Descri\xe7\xe3o"}),(0,D.jsx)(b.I,{type:"text",id:"description",placeholder:"Digite a descri\xe7\xe3o do projeto",register:E({},C("description"))}),!!R.description&&(0,D.jsx)(x.y,{title:R.description.message})]}),(0,D.jsxs)(m.l,{children:[(0,D.jsx)(h._,{htmlFor:"repository",title:"Reposit\xf3rio"}),(0,D.jsx)(b.I,{type:"text",id:"repository",placeholder:"Digite o link do reposit\xf3rio",register:E({},C("repository"))})]}),(0,D.jsxs)(m.l,{children:[(0,D.jsx)(h._,{htmlFor:"website",title:"Website"}),(0,D.jsx)(b.I,{type:"text",id:"website",placeholder:"Digite o link do website",register:E({},C("website"))})]}),(0,D.jsxs)(m.l,{children:[(0,D.jsx)(h._,{htmlFor:"techs",title:"Tecnologias"}),r.length>0&&(0,D.jsx)(g.X,{children:r.map((function(e){return(0,D.jsxs)(g.Hm,{children:[(0,D.jsx)(g.LQ,{children:e}),(0,D.jsx)(g.W5,{onClick:function(){return function(e){if(1!==r.length){var t=r.indexOf(e);if(-1!==t){for(var i=[],s=0;s<r.length;s++)t!==s&&i.push(r[s]);n(i)}}else n([])}(e)},children:"Deletar"})]},e)}))}),(0,D.jsxs)(g.Lt,{children:[(0,D.jsx)(b.f,{type:"text",id:"techs",placeholder:"Digite a tecnologia",inputRef:X}),(0,D.jsx)(g.HS,{onClick:function(){var e;""!==(null===(e=X.current)||void 0===e?void 0:e.value)&&n((function(e){var t;return[].concat((0,i.Z)(e),[null===(t=X.current)||void 0===t?void 0:t.value])}))},children:"Adicionar"})]}),c.error&&(0,D.jsx)(x.y,{title:c.message})]}),(0,D.jsx)(f.k,{title:"Salvar",margin:"2rem 0 0 0",isDisabled:P})]})})]})]})}},3352:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/create",function(){return r(7354)}])}},function(e){e.O(0,[247,646,261,640,361,774,888,179],(function(){return t=3352,e(e.s=t);var t}));var t=e.O();_N_E=t}]);