(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{7354:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return Z}});var i=r(7812),n=r(9499),s=r(29),o=r(7794),c=r.n(o),l=r(4231),u=r(2286),a=r.n(u),d=r(9008),p=r.n(d),h=r(9901),j=r(5496),f=r(7294),x=r(7536),b=r(2682),g=r(4686),m=r(2925),v=r(143),y=r(3117),_=r(4714),w=r(1163),O=r(7209),k=r(423),D=r(5893);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=l.Ry({title:l.Z_().required("Digite um t\xedtulo"),description:l.Z_().required("Digite uma descri\xe7\xe3o"),repository:l.Z_(),website:l.Z_()}).required(),Z=!0;t.default=function(){var e=(0,w.useRouter)(),t=(0,f.useState)([]),r=t[0],n=t[1],o=(0,f.useState)({error:!1,message:""}),l=o[0],u=o[1],d=(0,f.useState)(!1),P=d[0],Z=d[1],F=(0,x.cI)({resolver:(0,j.X)(E)}),N=F.register,C=F.handleSubmit,I=F.setValue,R=F.formState.errors,T=function(){var t=(0,s.Z)(c().mark((function t(i){var s,o,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),s=a().get(null,"jnm.token"),o=S(S({},i),{},{technologies:r}),t.next=5,h.Z.create(s["jnm.token"],o);case 5:l=t.sent,t.t0=l.status,t.next=200===t.t0?9:500===t.t0?16:401===t.t0?19:22;break;case 9:return I("title",""),I("description",""),I("repository",""),I("website",""),n([]),Z(!1),t.abrupt("break",23);case 16:return u((function(e){return S(S({},e),{},{error:!0,message:"Erro no servidor, tente novamente"})})),Z(!1),t.abrupt("break",23);case 19:return a().destroy({},"jnm.token"),e.push("/login"),t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,f.useEffect)((function(){X.current.value=""}),[r]);var X=(0,f.useRef)(null);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p(),{children:(0,D.jsx)("title",{children:"Criar Projeto | Portfolio"})}),(0,D.jsxs)(_.E,{children:[(0,D.jsx)(O.T,{href:"/dashboard"}),(0,D.jsx)(k.W2,{children:(0,D.jsxs)(k.l0,{onSubmit:C(T),children:[(0,D.jsxs)(y.l,{children:[(0,D.jsx)(b._,{htmlFor:"title",title:"T\xedtulo"}),(0,D.jsx)(v.I,{type:"text",id:"title",placeholder:"Digite o t\xedtulo do projeto",register:S({},N("title"))}),!!R.title&&(0,D.jsx)(m.y,{title:R.title.message})]}),(0,D.jsxs)(y.l,{children:[(0,D.jsx)(b._,{htmlFor:"description",title:"Descri\xe7\xe3o"}),(0,D.jsx)(v.I,{type:"text",id:"description",placeholder:"Digite a descri\xe7\xe3o do projeto",register:S({},N("description"))}),!!R.description&&(0,D.jsx)(m.y,{title:R.description.message})]}),(0,D.jsxs)(y.l,{children:[(0,D.jsx)(b._,{htmlFor:"repository",title:"Reposit\xf3rio"}),(0,D.jsx)(v.I,{type:"text",id:"repository",placeholder:"Digite o link do reposit\xf3rio",register:S({},N("repository"))})]}),(0,D.jsxs)(y.l,{children:[(0,D.jsx)(b._,{htmlFor:"website",title:"Website"}),(0,D.jsx)(v.I,{type:"text",id:"website",placeholder:"Digite o link do website",register:S({},N("website"))})]}),(0,D.jsxs)(y.l,{children:[(0,D.jsx)(b._,{htmlFor:"techs",title:"Tecnologias"}),r.length>0&&(0,D.jsx)(k.X,{children:r.map((function(e){return(0,D.jsxs)(k.Hm,{children:[(0,D.jsx)(k.LQ,{children:e}),(0,D.jsx)(k.W5,{onClick:function(){return function(e){if(1!==r.length){var t=r.indexOf(e);if(-1!==t){for(var i=[],s=0;s<r.length;s++)t!==s&&i.push(r[s]);n(i)}}else n([])}(e)},children:"Deletar"})]},e)}))}),(0,D.jsxs)(k.Lt,{children:[(0,D.jsx)(v.f,{type:"text",id:"techs",placeholder:"Digite a tecnologia",inputRef:X}),(0,D.jsx)(k.HS,{onClick:function(){var e;""!==(null===(e=X.current)||void 0===e?void 0:e.value)&&n((function(e){var t;return[].concat((0,i.Z)(e),[null===(t=X.current)||void 0===t?void 0:t.value])}))},children:"Adicionar"})]}),l.error&&(0,D.jsx)(m.y,{title:l.message})]}),(0,D.jsx)(g.k,{title:"Salvar",margin:"2rem 0 0 0",isDisabled:P})]})})]})]})}},3352:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/create",function(){return r(7354)}])}},function(e){e.O(0,[247,646,261,640,361,774,888,179],(function(){return t=3352,e(e.s=t);var t}));var t=e.O();_N_E=t}]);