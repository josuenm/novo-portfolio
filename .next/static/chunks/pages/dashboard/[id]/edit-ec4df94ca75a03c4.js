(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{5023:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return E}});var i=r(7812),n=r(9499),s=r(29),o=r(7794),c=r.n(o),l=r(4231),u=r(2286),a=r.n(u),d=r(9008),p=r.n(d),h=r(9901),j=r(5496),b=r(7294),f=r(7536),x=r(2682),g=r(4686),y=r(2925),m=r(143),v=r(3117),O=r(4714),w=r(1163),I=r(423),_=r(7209),k=r(5893);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=l.Ry({title:l.Z_().required("Digite um t\xedtulo"),description:l.Z_().required("Digite uma descri\xe7\xe3o"),repository:l.Z_(),website:l.Z_()}).required(),E=!0;t.default=function(e){var t=e.project,r=(0,w.useRouter)(),n=(0,b.useState)([]),o=n[0],l=n[1],u=(0,b.useState)({error:!1,message:""}),d=u[0],N=u[1],E=(0,b.useState)(!1),S=E[0],P=E[1],F=(0,f.cI)({resolver:(0,j.X)(D)}),T=F.register,J=F.handleSubmit,X=F.setValue,Z=F.formState.errors;(0,b.useEffect)((function(){X("title",t.title),X("description",t.description),X("repository",t.repository),X("website",t.website),l(t.technologies)}),[t.description,t.repository,t.technologies,t.title,t.website,X]);var q=function(){var e=(0,s.Z)(c().mark((function e(t){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRpcmVjdC5qb3N1ZUBnbWFpbC5jb20iLCJpYXQiOjE2NTMxNzMwNzksImV4cCI6MTY1NTc2NTA3OX0.F9D7oQS9nwWFKO-q4qh567cP6ieszhniuueKSUauiaE",e.next=4,h.Z.create("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRpcmVjdC5qb3N1ZUBnbWFpbC5jb20iLCJpYXQiOjE2NTMxNzMwNzksImV4cCI6MTY1NTc2NTA3OX0.F9D7oQS9nwWFKO-q4qh567cP6ieszhniuueKSUauiaE",t);case 4:i=e.sent,e.t0=i.status,e.next=200===e.t0?8:500===e.t0?14:401===e.t0?17:20;break;case 8:return X("title",""),X("description",""),X("repository",""),X("website",""),l([]),e.abrupt("break",21);case 14:return N((function(e){return C(C({},e),{},{error:!0,message:"Erro no servidor, tente novamente"})})),P(!1),e.abrupt("break",21);case 17:return a().destroy({},"jnm.token"),r.push("/login"),e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){R.current.value=""}),[o]);var R=(0,b.useRef)(null);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p(),{children:(0,k.jsx)("title",{children:"Criar Projeto | Portfolio"})}),(0,k.jsxs)(O.E,{children:[(0,k.jsx)(_.T,{href:"/dashboard/".concat(t._id)}),(0,k.jsxs)(I.W2,{children:[(0,k.jsxs)(I.Dx,{children:["Editando: ",t.title]}),(0,k.jsxs)(I.l0,{onSubmit:J(q),children:[(0,k.jsxs)(v.l,{children:[(0,k.jsx)(x._,{htmlFor:"title",title:"T\xedtulo"}),(0,k.jsx)(m.I,{type:"text",id:"title",placeholder:"Digite o t\xedtulo do projeto",register:C({},T("title"))}),!!Z.title&&(0,k.jsx)(y.y,{title:Z.title.message})]}),(0,k.jsxs)(v.l,{children:[(0,k.jsx)(x._,{htmlFor:"description",title:"Descri\xe7\xe3o"}),(0,k.jsx)(m.I,{type:"text",id:"description",placeholder:"Digite a descri\xe7\xe3o do projeto",register:C({},T("description"))}),!!Z.description&&(0,k.jsx)(y.y,{title:Z.description.message})]}),(0,k.jsxs)(v.l,{children:[(0,k.jsx)(x._,{htmlFor:"repository",title:"Reposit\xf3rio"}),(0,k.jsx)(m.I,{type:"text",id:"repository",placeholder:"Digite o link do reposit\xf3rio",register:C({},T("repository"))})]}),(0,k.jsxs)(v.l,{children:[(0,k.jsx)(x._,{htmlFor:"website",title:"Website"}),(0,k.jsx)(m.I,{type:"text",id:"website",placeholder:"Digite o link do website",register:C({},T("website"))})]}),(0,k.jsxs)(v.l,{children:[(0,k.jsx)(x._,{htmlFor:"techs",title:"Tecnologias"}),o.length>0&&(0,k.jsx)(I.X,{children:o.map((function(e){return(0,k.jsxs)(I.Hm,{children:[(0,k.jsx)(I.LQ,{children:e}),(0,k.jsx)(I.W5,{onClick:function(){return function(e){if(1!==o.length){var t=o.indexOf(e);if(-1!==t){for(var r=[],i=0;i<o.length;i++)t!==i&&r.push(o[i]);l(r)}}else l([])}(e)},children:"Deletar"})]},e)}))}),(0,k.jsxs)(I.Lt,{children:[(0,k.jsx)(m.f,{type:"text",id:"techs",placeholder:"Digite a tecnologia",inputRef:R}),(0,k.jsx)(I.HS,{onClick:function(){var e;""!==(null===(e=R.current)||void 0===e?void 0:e.value)&&l((function(e){var t;return[].concat((0,i.Z)(e),[null===(t=R.current)||void 0===t?void 0:t.value])}))},children:"Adicionar"})]}),d.error&&(0,k.jsx)(y.y,{title:d.message})]}),(0,k.jsx)(g.k,{title:"Salvar",margin:"2rem 0 0 0",isDisabled:S})]})]})]})]})}},9201:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/[id]/edit",function(){return r(5023)}])}},function(e){e.O(0,[247,646,261,640,361,774,888,179],(function(){return t=9201,e(e.s=t);var t}));var t=e.O();_N_E=t}]);